---
layout: default
title: Contact Us - We're eager to hear from you - MAYDAY.US
omit_title_suffix: true
cssid: contact-us
hideSidebar: true
---


{% capture subhead %}

A citizen-funded super PAC, to end all super PACs.

{% endcapture %}

{% capture pageid %}

Contact-us
{% endcapture %}

{% capture content %}
AIzaSyAcfA2Xf9-f3EfsmfU4gF6upJP8crRVQ4w
$.get('https://www.googleapis.com/civicinfo/v2/voterinfo?electionId=4100&key=AIzaSyAcfA2Xf9-f3EfsmfU4gF6upJP8crRVQ4w&address=1263 Pacific Ave. Kansas City KS'

<div class="row">
  <div class="col-md-8">

  </div>
  <div class="col-md-4">
    <h2>Contact Us</h2>
    <p>If you would like to get in touch, please email us at <a href="mailto:info@mayday.us">info@mayday.us</a> or use the form below.</p>
    <form id="lookup-form" name="contact" method="get" action="/contact-us/">
      <div class="form-group">
        <label for="address">Address</label>
        <input type="text" name="address" id="address" value="" class="form-control" />
      </div>

      <div class="form-group">
        <label for="city">City</label>
        <input type="text" name="city" id="city" value="" class="form-control" />
      </div>

      <div class="form-group">
        <label for="subject">State</label>
        <input type="text" name="subject" id="subject" value="" class="form-control" />
      </div>

      <div class="form-group">
        <label for="zip">Zip</label>
        <input name="zip" id="zip" class="form-control"/>
      </div>

      <div class="form-actions">
        <button class="btn btn-primary pull-right" type="submit">Lookup</button>
      </div>
    </form>
    <div id="js-vote" style="display:none;">
      <h2>Thanks for your message.</h2>
      <div id="candidate-template" class="hidden row">
        <div class="col-md-5">
          <img src="#" alt="#">
          <h4></h4>
          <h5></h5>
        </div>
        <div class="col-md-7">
          <p>Vote for Reform this Nov 4th in [State name]'s [district_name]. [Candidate 1 last name]! </p>
        </div>
      </div>
      <form id="lookup-form" name="contact" method="get" action="/contact-us/">
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" name="email" id="email" value="" class="form-control" placeholder="Email Address" />
        </div>

        <div class="form-actions">
          <button class="btn btn-primary pull-right" type="submit">Lookup</button>
        </div>
      </form>
    </div>

  </div>
</div>

<script src="/js/reformer-data.js" type="text/javascript" charset="utf-8"></script>
<script>
function parseFormData() {
  var output = [];
  var address_values = $('form input, form textarea').each(function() { output.push(this.value) } )
  return output.join(' ');
}

function filterValidContests(contests){
  output = contests.filter(function(data){
    return data.hasOwnProperty('roles') &&
    data.hasOwnProperty('level') &&
    data.level[0] == "country" &&
    /legislatorUpperBody|legislatorLowerBody/.test(data.roles[0])
  });
  return output
}

function filterRelevantReformers(userStateAbbr) {
  console.log('reformers in filterRelevantReformers:', reformData.reformers)
  output = reformData.reformers.filter(function(data){ return data.state == userStateAbbr });
  return output;
}

function aggregateReformersWithCivicInfo (relevantReformers,contests) {
  $(relevantReformers).each(function() {
    var reformer = this;
    targetContest = contests.filter(function(data){ return data.roles[0] == reformer.role })[0]
    console.log('targetContest:', targetContest)
    // TODO ERROR CONDITION IF CANDIDATE DOESN'T HAVE CONTEST - WIELAND NOT IN GOOGLE DATA
    reformerRegex = new RegExp(reformer.last_name,'i');
    targetCandidateInfo = targetContest.candidates.filter(function(data){ return reformerRegex.test(data.name) })[0]

    $.extend(reformer, targetCandidateInfo);
    parseTemplateValues(reformer, targetCandidateInfo);
  })
}

function parseTemplateValues(reformer, contest){
  reformer.state_name = targetContest.district.name
  reformer.contest_name = (reformer.role == 'legislatorLowerBody' ? 'Congress' : 'Senate')
  reformer.full_name = [reformer.first_name, reformer.last_name].join(' ')
  reformer.bio_url = reformer.endorsed ? reformer.mayday_url : reformer.candidateUrl

  reformer.bio_text = refromer.full_name + 'is a candidate who supports' + parseSupportedLegislation(reformer.reforms)
  reformer.bio_text += reformer.endorsed ? ('<strong>'+reformer.last_name + 'is formally endorsed by MADAY.us.</strong>') : ''
  reformer.bio_text += reformer.bio_url.length > 5 ? ('You can learn more about <a href="' + reformer.bio_url + '" target="_blank">' + refromer.last_name + ' here</a>.')
}

function parseSupportedLegislation(supportedIds){
  supportedIds
  //UNIMPLEMENTED
}

function addReformerCandidate(reformer) {
  $template = $('.template').clone().removeClass('hidden') ;

  $template.find('h4').text(reformer.full_name )
  $template.find('h5').text(reformer.contest_name )
  <span class="endorsed hidden"></span> Learn more about 
  $template.candidateUrl
}


$(document).ready(function(){
  $.get('http://api.reform.to/reformers/index.json')
  $('#lookup-form').validate({
    rules: {
      // address: {required: true },
      // subject: {required: true },
      // message: {required: true }
    },
    submitHandler: function(form) {
      $(form).css('opacity','0.5')
      $(form).find('input, textarea, button').prop('disabled',true);

      var address = parseFormData();
      $.get('https://www.googleapis.com/civicinfo/v2/voterinfo?electionId=4100&key=AIzaSyAcfA2Xf9-f3EfsmfU4gF6upJP8crRVQ4w&address=' + address)
      .done(function(data) {
        userStateAbbr = data.normalizedInput.state;
        var validContests = filterValidContests(data.contests);
        var relevantReformers = filterRelevantReformers(userStateAbbr);
        aggregateReformersWithCivicInfo(relevantReformers,validContests);
        console.log('relevantReformers:', relevantReformers);

        $(form).slideUp('0.2');
        $('#js-vote').slideDown('0.2');
      }).fail(function() {
        $(form).find('input, textarea, button').prop('disabled',false);
        $(form).css('opacity','1');
      });
    }
  });
});
</script>
{% endcapture %}

{% include subpage.html %}

